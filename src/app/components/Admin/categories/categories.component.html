<div class="card flex justify-center">
  <p-dialog
    header="Update Product Information"
    [modal]="true"
    [(visible)]="visible"
    [style]="{ width: '70rem' }"
  >
    <app-productinfoupdate [productInfo]="productInfo"></app-productinfoupdate>
  </p-dialog>
</div>
<div class="card">
  <p-table [value]="products" [tableStyle]="{ 'min-width': '60rem' }">
    <ng-template pTemplate="caption">
      <div class="flex items-center justify-between" *ngIf="cat">
        <span class="text-xl font-bold text-transform-capitalize">{{
          cat
        }}</span>
        <p-button icon="pi pi-refresh ml-1" rounded raised />
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Image</th>
        <th>Price</th>
        <th>Category</th>
        <!-- <th>Reviews</th> -->
        <th>Action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.title }}</td>
        <td>
          <img
            [src]="product.image"
            [alt]="product.title"
            class="w-24 rounded h-24"
            width="24"
            height="24"
          />
        </td>
        <td>{{ product.price }}</td>
        <td class="text-transform-capitalize">{{ product.category }}</td>
        <!-- <td><p-rating [(ngModel)]="product.rating" [readonly]="true" [cancel]="false" /></td> -->
        <!-- <td>
                  <p-tag [value]="product.inventoryStatus" [severity]="getSeverity(product.inventoryStatus)" />
              </td> -->
        <td>
          <button class="pl-2" (click)="showDialog(product.id)">
            <i class="pi pi-file-edit" style="font-size: 1rem"></i>
          </button>

          <button class="pl-2">
            <i class="pi pi-trash" style="font-size: 1rem"></i>
          </button>
          <button class="pl-2">
            <i class="pi pi-print" style="font-size: 1rem"></i>
          </button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="footer">
      In total there are {{ products ? products.length : 0 }} products.
    </ng-template>
  </p-table>
</div>
